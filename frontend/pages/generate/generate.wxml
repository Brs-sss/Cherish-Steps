<!--pages/generate/generate.wxml-->
<view class="nav">
  <text class="nav-item {{activeIndex==0?'active':''}}" bindtap="navigateToPage" data-index="0">时间轴</text>
  <text class="nav-item {{activeIndex==1?'active':''}}" bindtap="navigateToPage" data-index="1">日记本</text>
  <text class="nav-item {{activeIndex==2?'active':''}}" bindtap="navigateToPage" data-index="2">小视频</text>
  <text class="nav-item {{activeIndex==3?'active':''}}" bindtap="navigateToPage" data-index="3">折线图</text>
</view>

<view class="container" style="width: 700rpx; height: 1125rpx; display: flex; box-sizing: border-box">
  <!-- <text class="tag-text">{{activeIndex}}</text> -->
  <block wx:if="{{activeIndex==0}}">
    <view class="timeline-list">
      <block wx:for="{{timelineList}}" wx:key="index">
        <view class="timeline-item"  data-category="timeline" data-index="{{index}}" bindtap="addEvent">
          <image class="timeline-image" src="/image/generate/timeline/timeline_{{index}}.png"></image>
          <text class="timeline-name">{{item.name}}</text>
        </view>
      </block>
    </view>
  </block>
  <block wx:if="{{activeIndex==1}}">
    <view class="sub-nav">
      <text class="sub-nav-item {{diaryActiveIndex==0?'active':''}}" bindtap="navigateToSubPage" data-index="0">封面</text>
      <text class="sub-nav-item {{diaryActiveIndex==1?'active':''}}" bindtap="navigateToSubPage" data-index="1">纸张</text>
    </view>
    <image class="selected-image" bindtap="navigateToSubPage" data-index="0" src="/image/generate/cover/cover_{{coverSelected}}.png"></image>
    <image class="selected-image" bindtap="navigateToSubPage" data-index="1" src="/image/generate/cover/cover_{{coverSelected}}.png" src="/image/generate/paper/paper_{{paperSelected}}.png" style="margin-left: -5vw;"></image>
    <input class="diary-input" bindinput="handleInputTitle" placeholder="请输入标题" />
    <button class="submit" data-category="{{diaryTitle}}" data-index="{{100*coverSelected+paperSelected}}" bindtap="addEvent" style="width: 180rpx; height: 68rpx; display: block; box-sizing: border-box; left: 230rpx; top: -674rpx">生成</button>
    <block wx:if="{{diaryActiveIndex==0}}">
      <!-- 封面 -->
      <!-- <scroll-view class="scroll-view" scroll-y="true"> -->
        <view class="cover-list" style="left: 1rpx;">
          <block wx:for="{{coverList}}" wx:key="index">
            <view class="cover-item"  data-category="timeline" data-index="{{index}}" bindtap="selectCover">
              <image class="cover-image {{index==coverSelected ? 'selected' : ''}}" src="/image/generate/cover/cover_{{index}}.png"></image>
              <image class="select-icon  {{index==coverSelected ? 'selected' : ''}}" src="/image/generate/check-circle.png"></image>
            </view>
          </block>
        </view>
      <!-- </scroll-view> -->
    </block>
    <block wx:if="{{diaryActiveIndex==1}}">
      <!-- 纸张 -->
      <!-- <scroll-view class="scroll-view" scroll-y="true"> -->
        <view class="cover-list" style="left: 1rpx;">
          <block wx:for="{{paperList}}" wx:key="index">
            <view class="cover-item"  data-category="timeline" data-index="{{index}}" bindtap="selectPaper">
              <image class="cover-image {{index==paperSelected ? 'selected' : ''}}" src="/image/generate/paper/paper_{{index}}.png"></image>
              <image class="select-icon  {{index==paperSelected ? 'selected' : ''}}" src="/image/generate/check-circle.png"></image>
            </view>
          </block>
        </view>
      <!-- </scroll-view> -->
    </block>
  </block>
  <block wx:if="{{activeIndex==2}}">
    <view>小视频页面</view>
  </block>
  <block wx:if="{{activeIndex==3}}">
    <button class="submit" bindtap="navigateTochart">生成折线图</button>
  </block>
</view>
